{ [client] client_activatesetvard VAPOR_POS PARAM1setvard VAPOR_COLOR PARAM2setvard VAPOR_RAD PARAM3setvard VAPOR_COUNT 8setvard VAPOR_DURATION PARAM4setvard IS_ACTIVE 1callevent VAPOR_DURATION end_fxcallevent effect_loopif ( VAPOR_POS > 128 ) setvard VAPOR_COUNT 16if ( VAPOR_POS > 256 ) setvard VAPOR_COUNT 32if ( VAPOR_POS > 512 ) setvard VAPOR_COUNT 64}{ [client] effect_loopif IS_ACTIVEcallevent $randf(0.1,0.25) effect_loopcalleventloop VAPOR_COUNT spawn_smokes}{ [client] end_fxsetvard IS_ACTIVE 0callevent 1.1 remove_fx}{ [client] remove_fxremovescript}{ [client] spawn_smokeslocal L_POS VAPOR_POSvectoradd L_POS $relpos($vec(0,$randf(0,359),0),$vec(0,$randf($neg(VAPOR_RAD),VAPOR_RAD),0))cleffect tempent sprite char_breath.spr L_POS setup_smokes}{[client] setup_smokes cleffect tempent set_current_prop death_delay 1.0 cleffect tempent set_current_prop fadeout 1.0 cleffect tempent set_current_prop fadein 1.0 cleffect tempent set_current_prop framerate10 cleffect tempent set_current_prop frames17 cleffect tempent set_current_prop bouncefactor 0 cleffect tempent set_current_prop scale 2 cleffect tempent set_current_prop rendermodeadd cleffect tempent set_current_prop renderamt200 cleffect tempent set_current_prop rendercolorVAPOR_COLOR cleffect tempent set_current_prop gravity 0 cleffect tempent set_current_prop collide world}